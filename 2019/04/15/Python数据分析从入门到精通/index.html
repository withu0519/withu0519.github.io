<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Pandas | Hexo</title><meta name="keywords" content="光与路契合，月与海浪漫"><meta name="author" content="宇宙建筑家"><meta name="copyright" content="宇宙建筑家"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Python数据分析从入门到精通第一章 了解数据分析一. 数据分析流程熟悉工具-明确目的-获取数据-数据处理-数据分析-验证结果-结果呈现-数据应用 1.熟悉工具2.明确目的在数据分析方面，首先要花一些时间搞清楚为什么要做数据分析、分析什么、想要达到什么效果。例如，为了评估产品改版后的效果比之前是否有所提升，或通过数据分析找到产品迭代的方向等。只有明确了分析目的，才能够找到适合的分析方法，也才能够">
<meta property="og:type" content="article">
<meta property="og:title" content="Pandas">
<meta property="og:url" content="http://example.com/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Python数据分析从入门到精通第一章 了解数据分析一. 数据分析流程熟悉工具-明确目的-获取数据-数据处理-数据分析-验证结果-结果呈现-数据应用 1.熟悉工具2.明确目的在数据分析方面，首先要花一些时间搞清楚为什么要做数据分析、分析什么、想要达到什么效果。例如，为了评估产品改版后的效果比之前是否有所提升，或通过数据分析找到产品迭代的方向等。只有明确了分析目的，才能够找到适合的分析方法，也才能够">
<meta property="og:locale">
<meta property="og:image" content="http://example.com/img/people.png">
<meta property="article:published_time" content="2019-04-15T00:40:30.000Z">
<meta property="article:modified_time" content="2022-05-28T00:49:22.551Z">
<meta property="article:author" content="宇宙建筑家">
<meta property="article:tag" content="光与路契合，月与海浪漫">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/people.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Pandas',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-05-28 08:49:22'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/./img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">120</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/people.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Hexo</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 链接</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情链接</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Pandas</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">Created</span><time datetime="2019-04-15T00:40:30.000Z" title="Created 2019-04-15 08:40:30">2019-04-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Pandas"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Python数据分析从入门到精通"><a href="#Python数据分析从入门到精通" class="headerlink" title="Python数据分析从入门到精通"></a>Python数据分析从入门到精通</h1><h1 id="第一章-了解数据分析"><a href="#第一章-了解数据分析" class="headerlink" title="第一章 了解数据分析"></a>第一章 了解数据分析</h1><h2 id="一-数据分析流程"><a href="#一-数据分析流程" class="headerlink" title="一. 数据分析流程"></a>一. 数据分析流程</h2><p>熟悉工具-明确目的-获取数据-数据处理-数据分析-验证结果-结果呈现-数据应用</p>
<h3 id="1-熟悉工具"><a href="#1-熟悉工具" class="headerlink" title="1.熟悉工具"></a>1.熟悉工具</h3><h3 id="2-明确目的"><a href="#2-明确目的" class="headerlink" title="2.明确目的"></a>2.明确目的</h3><p>在数据分析方面，首先要花一些时间搞清楚为什么要做数据分析、分析什么、想要达到什么效果。例如，为了评估产品改版后的效果比之前是否有所提升，或通过数据分析找到产品迭代的方向等。只有明确了分析目的，才能够找到适合的分析方法，也才能够有效地进行数据处理、数据分析和预测等后续工作。</p>
<p>熟悉工具 明确目的 获取数据 数据处理 数据分析 验证结果 结果呈现 数据应用</p>
<h3 id="3-获取数据"><a href="#3-获取数据" class="headerlink" title="3.获取数据"></a>3.获取数据</h3><p>数据的来源有很多，像我们熟悉的Excel数据、数据库中的数据、网站数据以及公开的数据集等。那么，获取数据之前首先要知道需要什么时间段的数据，哪张表中的数据，以及如何获得，是下载、复制还是爬取等。</p>
<h3 id="4-数据处理"><a href="#4-数据处理" class="headerlink" title="4.数据处理"></a>4.数据处理</h3><p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018031333159.png" alt="image-20211018031333159"></p>
<p>数据规约：在接近或保持原始数据完整性的同时将数据集规模减小，以提高数据处理的速度。例如，一张Excel表中包含近3年的几十万条数据，由于我们只分析近一年的数据，因此要一年的数据即可，这样做的目的就是减小数据规模，提高数据处理速度。</p>
<p>数据清洗：在获取到原始数据后，可能其中的很多数据都不符合数据分析的要求，那么就需要按照如下步骤进行处理。</p>
<p>​		a.数据探索分析：分析数据的规律，通过一定的方法统计数据，通过统计结果判断数据是否存在缺失、异常等情况。例如，通过最小值判断数量、金额是否包含缺失数据，如果最小值为0，那么这部分数据就是缺失数据，以及通过判断数据是否存在空值来判断数据是否缺失。</p>
<p>​		b.重复数据处理：对于重复的数据删除即可。</p>
<p>​		c.缺失数据处理：对于缺失的数据，如果比例高于30%可以选择放弃这个指标，删除即可；如果低于30%可以将这部分缺失数据进行填充，以0或均值填充。</p>
<p>​		d.异常数据处理：异常数据需要对具体业务进行具体分析和处理，对于不符合常理的数据可进行删除。例如，性别男或女，但是数据中存在其他值，以及年龄超出正常年龄范围，这些都属于异常数据。</p>
<p>数据加工：包括数据抽取、数据计算、数据分组和数据转换。</p>
<p>​		a.数据抽取：是指选取数据中的部分内容。　</p>
<p>​		b.数据计算：是进行各种算术和逻辑运算，以便得到进一步的信息。　</p>
<p>​		c.数据分组：是按照有关信息进行有效的分组。　</p>
<p>​		d.数据转换：是指数据标准化处理，以适应数据分析算法的需要，常用的有z-score标准化，“最小、最大标准化”和“按小数定标标准化”等。经过上述标准化处理后，数据中各指标值将会处在同一个数量级别上，以便更好地对数据进行综合测评和分析。</p>
<h3 id="5-数据分析"><a href="#5-数据分析" class="headerlink" title="5.数据分析"></a>5.数据分析</h3><p>数据分析过程中，选择适合的分析方法和工具很重要，所选择的分析方法应兼具准确性、可操作性、可理解性和可应用性。但对于业务人员（如产品经理或运营）来说，数据分析最重要的是数据分析思维。</p>
<h3 id="6-验证结果"><a href="#6-验证结果" class="headerlink" title="6.验证结果"></a>6.验证结果</h3><p>通过数据分析我们会得到一些结果，但是这些结果只是数据的主观结果的体现，有些时候不一定完全准确，所以必须要进行验证。</p>
<p>例如，数据分析结果显示某产品点击率非常高，但实际下载量平平，那么这种情况，不要轻易定论，这种产品受欢迎，而要进一步验证，找到真正影响点击率的原因，这样才能做出更好的决策。</p>
<h3 id="7-结果呈现"><a href="#7-结果呈现" class="headerlink" title="7.结果呈现"></a>7.结果呈现</h3><p>现如今，企业越来越重视数据分析给业务决策带来的有效应用，而可视化是数据分析结果呈现的重要步骤。可视化是以图表方式呈现数据分析结果，这样的结果更清晰、更直观、更容易理解。</p>
<h3 id="8-数据应用"><a href="#8-数据应用" class="headerlink" title="8.数据应用"></a>8.数据应用</h3><p>数据分析的结果并不仅仅是把数据呈现出来，而更应该关注的是通过分析这些数据，后面可以做什么？如何将数据分析结果应用到实际业务中才是学习数据分析的重点。<br>数据分析结果的应用是数据产生实际价值的直接体现，而这个过程需要具有数据沟通能力、业务推动能力和项目工作能力。如果看了数据分析结果后并不知道做什么，那么这个数据分析就是失败的。</p>
<h2 id="二-数据分析常用的工具"><a href="#二-数据分析常用的工具" class="headerlink" title="二.数据分析常用的工具"></a>二.数据分析常用的工具</h2><p>excel  或者 python</p>
<ol>
<li><p>excel</p>
<p>Excel具备多种强大功能，例如创建表格、数据透视表、VBA等，Excel的系统如此庞大，确保了大家可以根据自己的需求分析数据。<br>但是在今天，大数据、人工智能时代，数据量很大的情况下Excel已经无法胜任，不仅处理起来很麻烦而且处理速度也会变慢。从数据分析的层面，Excel也只是停留在描述性分析，如对比分析、趋势分析、结构分析等。</p>
</li>
<li><p>python</p>
<p>虽然Excel已尽最大努力考虑到数据分析的大多数应用场景，但由于它是定制软件，很多东西都固化了，不能自由地修改。而Python非常的强大和灵活，可以编写代码来执行所需的任何操作，从专业和方便的角度来看，它比Excel更加强大。另外，Python可以实现Excel难以实现的应用场景。</p>
<p>a．专业的统计分析<br>例如，正态分布、使用算法对聚类进行分类和回归分析等。这种分析就像用数据做实验一样。它可以帮助我们回答下面的问题。<br>数据的分布是正态分布、三角分布还是其他类型的分布？离散情况如何？它是否在我们想要达到的统计可控范围内？不同参数对结果的影响是多少？<br>b．预测分析<br>例如，我们打算预测消费者的行为。他会在我们的商店停留多长时间？他会花多少钱？我们可以找出他的个人信用情况，并根据他的在线消费记录确定贷款金额。或者，我们可以根据他在网页上的浏览历史推送不同的产品。这也涉及当前流行的机器学习和人工智能概念。</p>
</li>
</ol>
<p>综上所述，Python作为数据分析工具的首选，具有以下优势。　Python语言简单易学、数据处理简单高效，对于初学者来说更加容易上手。　Python第三方扩展库不断更新，可用范围越来越广。　在科学计算、数据分析、数学建模和数据挖掘方面占据越来越重要的地位。　可以和其他语言进行对接，兼容性稳定。<br>当然，如果您既会Excel又会Python，那么绝对是职场的加分项！</p>
<h1 id="第二章-Pandas统计分析"><a href="#第二章-Pandas统计分析" class="headerlink" title="第二章 Pandas统计分析"></a>第二章 Pandas统计分析</h1><p>Pandas是Python的核心数据分析支持库，它提供了大量能使我们快速便捷地处理数据的函数和方法。<br>由于Pandas相关知识非常多，本书将Pandas分为上、下两章进行讲解。本章开始Pandas入门内容，从安装开始，逐步介绍Pandas相关的入门知识，包括两个主要的数据结构，即Series对象和DataFrame对象，也包括如何导入外部数据、数据抽取，以及数据的增加、修改和删除，还包括数据清洗、索引设置、数据排序与排名等相关基础知识，这些都是在为后期数据处理和数据分析打下良好的基础。</p>
<h2 id="一-Pandas概述"><a href="#一-Pandas概述" class="headerlink" title="一. Pandas概述"></a>一. Pandas概述</h2><p>Pandas是数据分析三大剑客之一，是Python的核心数据分析库，它提供了快速、灵活、明确的数据结构，能够简单、直观、快速地处理各种类型的数据，具体介绍如下所示。</p>
<p>Pandas能够处理以下类型的数据。　</p>
<p>1.与SQL或Excel表类似的数据。　</p>
<p>2.有序和无序（非固定频率）的时间序列数据。　</p>
<p>3.带行、列标签的矩阵数据。</p>
<p>4.任意其他形式的观测、统计数据集。</p>
<p>Pandas提供的两个主要数据结构Series（一维数组结构）与DataFrame（二维数组结构），可以处理金融、统计、社会科学、工程等领域里的大多数典型案例，并且Pandas是基于NumPy开发的，可以与其他第三方科学计算库完美集成。<br>Pandas的功能很多，它的优势如下。　</p>
<p>list1&#x3D;[0,1,2,3,4,5]</p>
<p>list2&#x3D;[[0,1,2,3,4,5],[0,1,2,3,4,5]]</p>
<p>1.处理浮点与非浮点数据里的缺失数据，表示为<strong>NaN</strong>。　</p>
<p>2.大小可变，例如插入或删除DataFrame等多维对象的列。</p>
<p>3.自动、显式数据对齐，显式地将对象与一组标签对齐，也可以忽略标签，在Series、DataFrame计算时自动与数据对齐。　</p>
<p>4.强大、灵活的分组统计（groupby）功能，即数据聚合、数据转换。　</p>
<p>5.把Python和NumPy数据结构里不规则、不同索引的数据轻松地转换为DataFrame对象。　</p>
<p>6.智能标签，对大型数据集进行切片、花式索引、子集分解等操作。　</p>
<p>7.直观地合并（merge）、连接（join）数据集。　灵活地重塑（reshape）、透视（pivot）数据集。</p>
<p>8.成熟的导入、导出工具，导入文本文件（CSV等支持分隔符的文件）、Excel文件、数据库等来源的数据，导出Excel文件、文本文件等，利用超快的HDF5格式保存或加载数据。　</p>
<p>9.时间序列：支持日期范围生成、频率转换、移动窗口统计、移动窗口线性回归、日期位移等时间序列功能。</p>
<p>例1.读取excel数据</p>
<p>01 import pandas as pd               #导入pandas 模块<br>02 df&#x3D;pd.read_excel(‘data.xlsx’)      #读取Excel 文件<br>03 df1&#x3D;df.head()                      #显示前5 条数据</p>
<h2 id="二-seires-对象"><a href="#二-seires-对象" class="headerlink" title="二. seires 对象"></a>二. seires 对象</h2><p>Pandas是Python数据分析重要的库，而Series和DataFrame是Pandas库中两个重要的对象，也是Pandas中两个重要的数据结构，如图所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018035610974.png" alt="image-20211018035610974"><br>本节将主要介绍Series对象。</p>
<h3 id="2-1-图解Series对象"><a href="#2-1-图解Series对象" class="headerlink" title="2.1　图解Series对象"></a>2.1　图解Series对象</h3><p>Series是Python的Pandas库中的一种数据结构，它类似一维数组，由一组数据以及与这组数据相关的标签（即索引)组成，或者仅有一组数据没有索引也可以创建一个简单的Series。Series可以存储整数、浮点数、字符串、Python对象等多种类型的数据。<br>例如，在成绩表（见图3)中包含了Series对象和DataFrame对象，其中“语文”“数学”“英语”3列中的每一列均是一个Series对象，而“语文”“数学”“英语”3列组成了一个DataFrame对象，如图4所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/" alt="image-20211018035821898"></p>
<p>​                                                                                           图3</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018035900680.png" alt="image-20211018035900680"></p>
<p>​                                                                                         图4</p>
<h3 id="2-2-创建一个series对象"><a href="#2-2-创建一个series对象" class="headerlink" title="2.2 创建一个series对象"></a>2.2 创建一个series对象</h3><p>创建Series对象主要使用Pandas的Series()方法，语法如下：</p>
<p>s&#x3D;pd.Series(data,index&#x3D;index)</p>
<p>参数说明：　</p>
<p>data：表示数据，支持Python字典、多维数组、标量值（即只有大小，没有方向的量。也就是说，只是一个数值，如s&#x3D;pd.Series(5)）。　index：表示行标签（索引）。　</p>
<p>返回值：Series对象。</p>
<p>说明<br>当data参数是多维数组时，index长度必须与data长度一致。如果没有指定index参数，则自动创建数值型索引（从0～data数据长度-1）。</p>
<p>【示例02】　在成绩表添加一列“物理”成绩。（示例位置：资源包\MR\Code\03\02）创建一个Series对象，在成绩表中添加一列“物理”成绩。程序代码如下：</p>
<p>01 import pandas as pd<br>02 s1&#x3D;pd.Series([88,60,75])<br>03 print(s1)</p>
<p>上述举例，如果通过Pandas模块引入Series对象，那么就可以直接在程序中使用Series对象了。主要代码如下：</p>
<p>01 from pandas import Series<br>02 s1&#x3D;Series([88,60,75])</p>
<h3 id="2-3-手动设置series索引"><a href="#2-3-手动设置series索引" class="headerlink" title="2.3 手动设置series索引"></a>2.3 手动设置series索引</h3><p>创建Series对象时会自动生成整数索引，默认值从0开始至数据长度减1。例如，3.2.1节举例中使用的就是默认索引，如0、1、2。除了使用默认索引，还可以通过index参数手动设置索引。</p>
<p>【示例03】　手动设置索引。（示例位置：资源包\MR\Code\03\03）<br>下面手动设置索引，将3.2.1节添加的“物理”成绩的索引设置为1、2、3，也可以是“明日同学”“高同学”“七月流火”。</p>
<p>程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018040816095.png" alt="image-20211018040816095"></p>
<p>运行程序，控制台输出结果如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018040836315.png" alt="image-20211018040836315"></p>
<p>说明<br>上述结果中输出的dtype是DataFrame数据的数据类型，int为整型，后面的数字表示位数。</p>
<h3 id="2-4-series-位置索引"><a href="#2-4-series-位置索引" class="headerlink" title="2.4 series 位置索引"></a>2.4 series 位置索引</h3><h4 id="2-4-1-series位置索引"><a href="#2-4-1-series位置索引" class="headerlink" title="2.4.1 series位置索引"></a>2.4.1 series位置索引</h4><p>位置索引是从0开始数，[0]是Series第一个数，[1]是Series第二个数，以此类推。</p>
<p>【示例04】　通过位置索引获取学生物理成绩。（示例位置：资源包\MR\Code\03\04）获取第一个学生的物理成绩。程序代码如下：</p>
<p>01 import pandas as pd<br>02 s1&#x3D;pd.Series([88,60,75])<br>03 print(s1[0])<br>运行程序，控制台输出结果如下：</p>
<p>88</p>
<p><strong>注意</strong><br><strong>Series不能使用[-1]定位索引。</strong></p>
<h4 id="2-4-2-series-标签索引"><a href="#2-4-2-series-标签索引" class="headerlink" title="2.4.2 series 标签索引"></a>2.4.2 series 标签索引</h4><p>Series标签索引与位置索引方法类似，用[ ]表示，里面是索引名称，注意index的数据类型是字符串，如果需要获取多个标签索引值，用[[ ]]表示（相当于[ ]中包含一个列表）。</p>
<p>【示例05】　通过标签索引获取学生物理成绩。（示例位置：资源包\MR\Code\03\05）通过标签索引“明日同学”和“七月流火”获取物理成绩，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018041305145.png" alt="image-20211018041305145"></p>
<h4 id="2-4-3-series-切片索引"><a href="#2-4-3-series-切片索引" class="headerlink" title="2.4.3 series 切片索引"></a>2.4.3 series 切片索引</h4><p>用标签索引做切片，包头包尾（即包含索引开始位置的数据，也包含索引结束位置的数据）。</p>
<p>【示例06】　通过切片获取数据。（示例位置：资源包\MR\Code\03\06）通过标签切片索引“明日同学”至“七月流火”获取数据。程序代码如下：</p>
<p>print(s1[‘明日同学’:’七月流火’])     #通过切片获取索引值</p>
<p>用位置索引做切片，和list列表用法一样，包头不包尾（即包含索引开始位置的数据，不包含索引结束位置的数据）。</p>
<p>【示例07】　通过位置切片获取数据。（示例位置：资源包\MR\Code\03\07）通过位置切片1～4获取数据，程序代码如下：</p>
<p>01  s2&#x3D;pd.Series([88,60,75,34,68])<br>02  print(s2[1:4])<br>运行程序，控制台输出结果如下：</p>
<p>1  60<br>2  75<br>3  34</p>
<h4 id="2-4-5-获取series索引和值"><a href="#2-4-5-获取series索引和值" class="headerlink" title="2.4.5 获取series索引和值"></a>2.4.5 获取series索引和值</h4><p>获取Series索引和值主要使用Series的index和values方法。</p>
<p>【示例08】　获取物理成绩的索引和值。（示例位置：资源包\MR\Code\03\08）下面使用Series的index和values方法获取物理成绩的索引和值，程序代码如下：</p>
<p>01 import pandas as pd<br>02 s1&#x3D;pd.Series([88,60,75])<br>03 print(s1.index)<br>04 print(s1.values)<br>运行程序，控制台输出结果如下：</p>
<p>RangeIndex(start&#x3D;0, stop&#x3D;3, step&#x3D;1)<br>[88 60 75]</p>
<h2 id="三-DataFrame对象"><a href="#三-DataFrame对象" class="headerlink" title="三. DataFrame对象"></a>三. DataFrame对象</h2><p>DataFrame是Pandas库中的一种数据结构，它是由多种类型的列组成的二维表数据结构，类似于Excel、SQL或Series对象构成的字典。DataFrame是最常用的Pandas对象，它与Series对象一样支持多种类型的数据。</p>
<h3 id="3-1-图解DataFrame对象"><a href="#3-1-图解DataFrame对象" class="headerlink" title="3.1　图解DataFrame对象"></a>3.1　图解DataFrame对象</h3><p>DataFrame是一个二维表数据结构，由行、列数据组成的表格。DataFrame既有行索引也有列索引，它可以看作是由Series对象组成的字典，不过这些Series对象共用一个索引，如图3.11所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018042136168.png" alt="image-20211018042136168"></p>
<p>图3.11　DataFrame结构<br>处理DataFrame表格数据时，用index表示行或用columns表示列更直观。用这种方式迭代DataFrame的列，代码更易读懂。</p>
<p>【示例09】　遍历DataFrame数据。（示例位置：资源包\MR\Code\03\09）遍历DataFrame数据，输出成绩表的每一列数据，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018042332305.png" alt="image-20211018042332305"></p>
<p>运行程序，控制台输出结果如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018042319399.png" alt="image-20211018042319399"></p>
<p>从运行结果得知，上述代码返回的其实是Series，如图3.12所示。Pandas之所以提供多种数据结构，其目的就是为了代码易读、操作更加方便。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018042510540.png" alt="image-20211018042510540"></p>
<h3 id="3-2-创建一个DataFrame对象"><a href="#3-2-创建一个DataFrame对象" class="headerlink" title="3.2 创建一个DataFrame对象"></a>3.2 创建一个DataFrame对象</h3><p>创建DataFrame主要使用Pandas的DataFrame()方法，语法如下：</p>
<p>pandas.DataFrame(data,index,columns,dtype,copy)<br>参数说明：　</p>
<p>data：表示数据，可以是ndarray数组、Series对象、列表、字典等。　</p>
<p>index：表示行标签（索引）。</p>
<p>columns：列标签（索引）。　</p>
<p>dtype：每一列数据的数据类型，其与Python数据类型有所不同，如object数据类型对应的是Python的字符型。</p>
<p>表3.1为Pandas数据类型与Python数据类型的对应表。</p>
<p>category作业，查询datetime64,timedela[ns],category</p>
<p>Timedelta在pandas中是一个表示两个datetime值之间的差(如日,秒和微妙)的类型,2个Datetime数据运算相减得出的结果就是一个Timedelta数据类型</p>
<p>​                                                                                          表3.1　数据类型对应表　</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018042916094.png" alt="image-20211018042916094"></p>
<p>copy：用于复制数据。　</p>
<p>返回值：DataFrame。<br>下面通过两种方法来创建DataFrame，即通过二维数组创建和通过字典创建。</p>
<p>1．通过二维数组创建DataFrame【示例10】　通过二维数组创建成绩表。（示例位置：资源包\MR\Code\03\10）<br>通过二维数组创建成绩表，包括语文、数学和英语，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018043105059.png" alt="image-20211018043105059"></p>
<p>运行程序，控制台输出结果如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018043117683.png" alt="image-20211018043117683"></p>
<p>2．通过字典创建DataFrame<br>通过字典创建DataFrame，需要注意：字典中的value值只能是一维数组或单个的简单数据类型，如果是数组，要求所有数组长度一致；如果是单个数据，则每行都添加相同数据。</p>
<p>【示例11】　通过字典创建成绩表。（示例位置：资源包\MR\Code\03\11）通过字典创建成绩表，包括语文、数学、英语和班级，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018043238790.png" alt="image-20211018043238790"></p>
<p>运行程序，控制台输出结果如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018043309599.png" alt="image-20211018043309599"></p>
<p>上述代码中，“班级”的value值是一个单个数据，所以每一行都添加了相同的数据“高一7班”。</p>
<h3 id="3-3-DataFrame重要属性和函数"><a href="#3-3-DataFrame重要属性和函数" class="headerlink" title="3.3 DataFrame重要属性和函数"></a>3.3 DataFrame重要属性和函数</h3><p>DataFrame是Pandas一个重要的对象，它的属性和函数很多，下面先简单了解DataFrame的几个重要属性和函数。重要属性介绍如表3.2所示，重要函数介绍如表3.3所示。</p>
<p>​                                                                                               表3.2　重要属性</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018043520943.png" alt="image-20211018043520943"></p>
<p>​                                                                                                  表3.3　重要函数</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018043534263.png" alt="image-20211018043534263"></p>
<h3 id="3-4-导入外部数据"><a href="#3-4-导入外部数据" class="headerlink" title="3.4 导入外部数据"></a>3.4 导入外部数据</h3><p>数据分析首先就要有数据。那么，数据类型有多种，本节介绍如何导入不同类型的外部数据。</p>
<h4 id="3-4-1-导入-xls或-xlsx文件"><a href="#3-4-1-导入-xls或-xlsx文件" class="headerlink" title="3.4.1　导入.xls或.xlsx文件"></a>3.4.1　导入.xls或.xlsx文件</h4><p>导入.xls或.xlsx文件主要使用Pandas的read_excel()方法，语法如下：</p>
<p>pandas.read_excel(io,sheet_name&#x3D;0,header&#x3D;0,names&#x3D;None,index_col&#x3D;None,usecols&#x3D;None,squeeze&#x3D;False,<br>dtype&#x3D;None,engine&#x3D;None,converters&#x3D;None,true_values&#x3D;None,false_values&#x3D;None,skiprows&#x3D;None,nrow&#x3D;None,<br>na_values&#x3D;None,keep_default_na&#x3D;True,verbose&#x3D;False,parse_dates&#x3D;False,date_parser&#x3D;None,thousands&#x3D;None,<br>comment&#x3D;None,skipfooter&#x3D;0,conver_float&#x3D;True,mangle_dupe_cols&#x3D;True,**kwds)<br>常用参数说明：　</p>
<p>io：字符串，.xls或.xlsx文件路径或类文件对象。　</p>
<p>sheet_name：None、字符串、整数、字符串列表或整数列表，默认值为0。字符串用于工作表名称，整数为索引表示工作表位置，字符串列表或整数列表用于请求多个工作表，为None时获取所有工作表。参数值如表3.4所示。</p>
<p>​                                                                                     表3.4　sheet_name参数值　</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018043941426.png" alt="image-20211018043941426"></p>
<p>header：指定作为列名的行，默认值为0，即取第一行的值为列名。数据为除列名以外的数据；若数据不包含列名，则设置header&#x3D;None。　</p>
<p>names：默认值为None，要使用的列名列表。　</p>
<p>index_col：指定列为行索引，默认值为None，索引0是DataFrame的行标签。</p>
<p>usecols：int、list列表或字符串，默认值为None。　如果为None，则解析所有列。　如果为int，则解析最后一列。　如果为list列表，则解析列号列表的列。　如果为字符串，则表示以逗号分隔的Excel列字母和列范围列表（例如“A:E”或“A,C,E:F”）。范围包括双方。　squeeze：布尔值，默认值为False，如果解析的数据只包含一列，则返回一个Series。　</p>
<p>dtype：列的数据类型名称或字典，默认值为None。例如{‘a’:np.float64,’b’:np.int32}。　</p>
<p>skiprows：省略指定行数的数据，从第一行开始。　</p>
<p>skipfooter：省略指定行数的数据，从尾部数的行开始。</p>
<p>下面通过示例，详细介绍如何导入.xlsx文件。</p>
<h5 id="1．常规导入导入Excel文件。"><a href="#1．常规导入导入Excel文件。" class="headerlink" title="1．常规导入导入Excel文件。"></a>1．常规导入导入Excel文件。</h5><p>【示例12】　（示例位置：资源包\MR\Code\03\12）导入“1月.xlsx”Excel文件，程序代码如下：</p>
<p>01 import pandas as pd<br>02 df&#x3D;pd.read_excel(‘1 月.xlsx’)<br>03 df1&#x3D;df.head()          #输出前5 条数据<br>运行程序，输出前5条数据，结果如图3.13所示。<br>图3.13　1月淘宝销售数据（前5条数据）</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018044223025.png" alt="image-20211018044223025"></p>
<p>知识胶囊<br>导入外部数据，必然要涉及路径问题，下面来了解一下相对路径和绝对路径。　</p>
<p><strong>相对路径</strong>：相对路径就是以当前文件为基准进行一级级目录指向被引用的资源文件。以下是常用的表示当前目录和当前目录的父级目录的标识符。　..&#x2F;：表示当前文件所在目录的上一级目录。　.&#x2F;：表示当前文件所在的目录（可以省略）。　&#x2F;：表示当前文件的根目录（域名映射或硬盘目录）。　如果使用系统默认文件路径\，那么，在Python中则需要在路径最前面加一个r，以避免路径里面的\被转义。　</p>
<p><strong>绝对路径</strong>：绝对路径是文件真正存在的路径，是指从硬盘的根目录（盘符）开始，进行一级级目录指向文件。</p>
<h5 id="2．导入指定的Sheet页"><a href="#2．导入指定的Sheet页" class="headerlink" title="2．导入指定的Sheet页"></a>2．导入指定的Sheet页</h5><p>一个Excel文件包含多个Sheet页，通过设置sheet_name参数就可以导入指定Sheet页的数据。</p>
<p>【示例13】　导入指定Sheet页的数据。（示例位置：资源包\MR\Code\03\13）一个Excel文件包含多家店铺的销售数据，导入其中一家店铺（莫寒）的销售数据，如图3.14所示。<br>图3.14　原始数据</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018044701218.png" alt="image-20211018044701218"></p>
<p>程序代码如下：</p>
<p>01 import pandas as pd<br>02 df&#x3D;pd.read_excel(‘1 月.xlsx’,sheet_name&#x3D;’莫寒’)<br>03 df1&#x3D;df.head()          #输出前5条数据<br>运行程序，输出前5条数据，结果如图3.15所示。<br>除了指定Sheet页的名字，还可以指定Sheet页的顺序，从0开始。例如，sheet_name&#x3D;0表示导入第一个Sheet页的数据，sheet_name&#x3D;1表示导入第二个Sheet页的数据，以此类推。<br>如果不指定sheet_name参数，则默认导入第一个Sheet页的数据。</p>
<h5 id="3．通过行、列索引导入指定行、列数据"><a href="#3．通过行、列索引导入指定行、列数据" class="headerlink" title="3．通过行、列索引导入指定行、列数据"></a>3．通过行、列索引导入指定行、列数据</h5><p>DataFrame是二维数据结构，因此它既有行索引又有列索引。当导入Excel数据时，行索引会自动生成，如0、1、2；而列索引则默认将第0行作为列索引（如A,B,…,J）。DataFrame行、列索引的示意图如图3.16所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018044837800.png" alt="image-20211018044837800"></p>
<p>​                                                  </p>
<p>​                                                                            图3.15　导入指定的Sheet页（前5条数据） </p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018044932996.png" alt="image-20211018044932996"></p>
<p>​                                                                                图3.16　DataFrame行、列索引示意图</p>
<p>【示例14】　指定行索引导入Excel数据。（示例位置：资源包\MR\Code\03\14）<br>如果通过指定行索引导入Excel数据，则需要设置index_col参数。下面将“买家会员名”作为行索引（位于第0列），导入Excel数据，程序代码如下：</p>
<p>01 import pandas as pd<br>02 df1&#x3D;pd.read_excel(‘1 月.xlsx’,index_col&#x3D;0)     #“买家会员名”为行索引<br>03 df1&#x3D;df1.head()                                 #输出前5条数据<br>运行程序，输出结果如图3.17所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018045103681.png" alt="image-20211018045103681"></p>
<p>图3.17　通过指定行索引导入Excel数据<br>如果通过指定列索引导入Excel数据，则需要设置header参数，主要代码如下：</p>
<p>df2&#x3D;pd.read_excel(‘1月.xlsx’,header&#x3D;1)        #设置第1行为列索引</p>
<p>运行程序，输出结果如图3.18所示。<br>如果将数字作为列索引，可以设置header参数为None，主要代码如下：</p>
<p>df3&#x3D;pd.read_excel(‘1月.xlsx’,header&#x3D;None)    #列索引为数字</p>
<p>运行程序，输出结果如图3.19所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018045218250.png" alt="image-20211018045218250"></p>
<p>图3.18　通过指定列索引导入Excel数据</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018045231796.png" alt="image-20211018045231796"></p>
<p>图3.19　指定列索引<br>那么，为什么要指定索引呢？因为通过索引可以快速地检索数据，例如df3[0]，就可以快速检索到“买家会员名”这一列数据。</p>
<h5 id="4-导入指定列数据"><a href="#4-导入指定列数据" class="headerlink" title="4.导入指定列数据"></a>4.导入指定列数据</h5><p>一个Excel往往包含多列数据，如果只需要其中的几列，可以通过usecols参数指定需要的列，从0开始（表示第1列，以此类推）。</p>
<p>【示例15】　导入第1列数据。（示例位置：资源包\MR\Code\03\15）下面导入第1列数据（索引为0），程序代码如下：</p>
<p>01 import pandas as pd<br>02 df1&#x3D;pd.read_excel(‘1 月.xlsx’,usecols&#x3D;[0])       #导入第1列<br>03 df1.head()<br>运行程序，输出结果如图3.20所示。<br>如果导入多列，可以在列表中指定多个值。例如，导入第1列和第4列，主要代码如下：</p>
<p>df2&#x3D;pd.read_excel(‘1月.xlsx’,usecols&#x3D;[0,3])<br>也可以指定列名称，主要代码如下：</p>
<p>df3&#x3D;pd.read_excel(‘1月.xlsx’,usecols&#x3D;[‘买家会员名’,’宝贝标题’])<br>运行程序，输出结果如图3.21所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018045614397.png" alt="image-20211018045614397"></p>
<p>​                                                                                               图3.20　导入第1列</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018045541729.png" alt="image-20211018045541729"></p>
<p>​                                                                                     图3.21　导入第1列和第4列数据</p>
<h4 id="3-4-2-导入-csv文件"><a href="#3-4-2-导入-csv文件" class="headerlink" title="3.4.2　导入.csv文件"></a>3.4.2　导入.csv文件</h4><p>导入.csv文件主要使用Pandas的read_csv()方法，语法如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018045855117.png" alt="image-20211018045855117">常用参数说明：　</p>
<p>filepath_or_buffer：字符串，文件路径，也可以是URL链接。　</p>
<p>sep、delimiter：字符串，分隔符。</p>
<p>header：指定作为列名的行，默认值为0，即取第1行的值为列名。数据为除列名以外的数据；若数据不包含列名，则设置header&#x3D;None。　</p>
<p>names：默认值为None，要使用的列名列表。　</p>
<p>index_col：指定列为索引列，默认值为None，索引0是DataFrame的行标签。　</p>
<p>usecols：int、list列表或字符串，默认值为None。　如果为None，则解析所有列。　如果为int，则解析最后一列。　如果为list列表，则解析列号列表的列。　如果为字符串，则表示以逗号分隔的Excel列字母和列范围列表（例如“A:E”或“A,C,E:F”）。范围包括双方。　dtype：列的数据类型名称或字典，默认值为None。例如{‘a’:np.float64,’b’:np.int32}。　</p>
<p>parse_dates：布尔类型值、int类型值的列表、列表或字典，默认值为False。可以通过parse_dates参数直接将某列转换成datetime64日期类型。例如，df1&#x3D;pd.read_csv(‘1月.csv’, parse_dates&#x3D;[‘订单付款时间’])。　</p>
<p>​		parse_dates为True时，尝试解析索引。　</p>
<p>​		parse_dates为int类型值组成的列表时，如[1,2,3]，则解析1、2、3列的值作为独立的日期列。　</p>
<p>​		parse_date为列表组成的列表，如[[1,3]]，则将1、3列合并，作为一个日期列使用。　</p>
<p>​		parse_date为字典时，如{‘总计’：[1, 3]}，则将1、3列合并，合并后的列名为“总计”。　</p>
<p>encoding：字符串，默认值为None，文件的编码格式。Python常用的编码格式是UTF-8。　返回值：返回一个DataFrame。</p>
<p>【示例16】　导入.csv文件。（示例位置：资源包\MR\Code\03\16）导入.csv文件，程序代码如下：</p>
<p>01 import pandas as pd<br>02 df1&#x3D;pd.read_csv(‘1月.csv’<strong>,encoding&#x3D;</strong>‘gbk’)        #导入.csv文件，并指定编码格式<br>03 df1&#x3D;df1.head()                                   #输出前5条数据<br>运行程序，输出结果如图3.22所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018050346464.png" alt="image-20211018050346464">                                                  </p>
<p>​                                                                                            图3.22　导入.csv文件</p>
<p>注意<br>上述代码中指定了编码格式，即encoding&#x3D;’gbk’。Python常用的编码格式是UTF-8和gbk，默认编码格式为UTF-8。导入.csv文件时，需要通过encoding参数指定编码格式。当将Excel文件另存为.csv文件时，默认编码格式为gbk，此时当编写代码导入.csv文件时，就需要设置编码格式为gbk，与源文件编码格式保持一致；否则会提示错误。</p>
<h4 id="3-4-3-导入-txt文本文件"><a href="#3-4-3-导入-txt文本文件" class="headerlink" title="3.4.3　导入.txt文本文件"></a>3.4.3　导入.txt文本文件</h4><p>导入.txt文件同样使用Pandas的read_csv()方法，不同的是需要指定sep参数（如制表符\t）。read_csv()方法读取.txt文件返回一个DataFrame，像表格一样的二维数据结构，如图3.23所示。</p>
<p>【示例17】　导入.txt文件。（示例位置：资源包\MR\Code\03\17）<br>下面使用read_csv()方法导入1月.txt文件，主要代码如下：</p>
<p>01 import pandas as pd<br>02 df1&#x3D;pd.read_csv(‘1月.txt’,sep&#x3D;’\t’,encoding&#x3D;’gbk’)<br>03 print(df1.head())<br>运行程序，输出结果如图3.24所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018050613488-16345047782181.png" alt="image-20211018050613488"></p>
<p>​                                                                                                        图3.23　.txt文件形式</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018050642828.png" alt="image-20211018050642828"></p>
<p>​                                                                                                         图3.24　导入.txt文本</p>
<h4 id="3-4-4-导入HTML网页"><a href="#3-4-4-导入HTML网页" class="headerlink" title="3.4.4　导入HTML网页"></a>3.4.4　导入HTML网页</h4><p>导入HTML网页数据主要使用Pandas的read_html()方法，该方法用于导入带有table标签的网页表格数据，语法如下：</p>
<p>pandas.read_html(io,match&#x3D;’.+’,flavor&#x3D;None,header&#x3D;None,index_col&#x3D;None,skiprows&#x3D;None,attrs&#x3D;None,parse_<br>dates&#x3D;False,thousands&#x3D;’,’,encoding&#x3D;None,decimal&#x3D;’.’,converters&#x3D;None,na_values&#x3D;None,keep_default_na&#x3D;True,<br>displayed_only&#x3D;True)<br>常用参数说明：　</p>
<p>io：字符串，文件路径，也可以是URL链接。网址不接受https，可以尝试去掉https中的s后爬取，如<a target="_blank" rel="noopener" href="http://www.mingribook.com./">http://www.mingribook.com。</a></p>
<p>match：正则表达式，返回与正则表达式匹配的表格。　</p>
<p>flavor：解析器默认为lxml。　</p>
<p>header：指定列标题所在的行，列表list为多重索引。　</p>
<p>index_col：指定行标题对应的列，列表list为多重索引。　</p>
<p>encoding：字符串，默认为None，文件的编码格式。　</p>
<p>返回值：返回一个DataFrame。<br>使用read_html()方法前，首先要确定网页表格是否为table类型。例如，NBA球员薪资网页（<a target="_blank" rel="noopener" href="http://www.espn.com/nba/salaries%EF%BC%89%EF%BC%8C%E5%8F%B3%E5%87%BB%E8%AF%A5%E7%BD%91%E9%A1%B5%E4%B8%AD%E7%9A%84%E8%A1%A8%E6%A0%BC%EF%BC%8C%E5%9C%A8%E5%BC%B9%E5%87%BA%E7%9A%84%E5%BF%AB%E6%8D%B7%E8%8F%9C%E5%8D%95%E4%B8%AD%E9%80%89%E6%8B%A9%E2%80%9C%E6%A3%80%E6%9F%A5%E5%85%83%E7%B4%A0%E2%80%9D%E5%91%BD%E4%BB%A4%EF%BC%8C%E6%9F%A5%E7%9C%8B%E4%BB%A3%E7%A0%81%E4%B8%AD%E6%98%AF%E5%90%A6%E5%90%AB%E6%9C%89%E8%A1%A8%E6%A0%BC%E6%A0%87%E7%AD%BE">http://www.espn.com/nba/salaries），右击该网页中的表格，在弹出的快捷菜单中选择“检查元素”命令，查看代码中是否含有表格标签</a><table>…</table>的字样，如图3.25所示。确定后才可以使用read_html()方法。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051003748.png" alt="image-20211018051003748"></p>
<p>​                                                                            图3.25　<table>…</table>表格标签</p>
<p>【示例18】　导入NBA球员薪资数据。（示例位置：资源包\MR\Code\03\18）<br>下面使用read_html()方法导入NBA球员薪资数据，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051015470.png" alt="image-20211018051015470"></p>
<p>运行程序，输出结果如图3.26所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051117577.png" alt="image-20211018051117577"></p>
<p>​                                                                                              图3.26　导入网页数据注意<br>运行程序，如果出现ImportError: lxml not found, please install it错误提示信息，则需要安装lxml模块。</p>
<h3 id="3-5-数据抽取"><a href="#3-5-数据抽取" class="headerlink" title="3.5　数据抽取"></a>3.5　数据抽取</h3><p>数据分析过程中，并不是所有的数据都是我们想要的，此时可以抽取部分数据，主要使用DataFrame对<strong>象的loc属性和iloc属性</strong>，示意图如图3.27所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051225461.png" alt="image-20211018051225461">          </p>
<pre><code>                                                                                     图3.27　loc属性和iloc属性示意图
</code></pre>
<p>对象的loc属性和iloc属性都可以抽取数据，区别如下。　</p>
<p>loc属性：以列名（columns）和行名（index）作为参数，当只有一个参数时，默认是行名，即抽取整行数据，包括所有列，如df.loc[‘A’]。　</p>
<p>iloc属性：以行和列位置索引（即0，1，2，…)作为参数，0表示第1行，1表示第2行，以此类推。当只有一个参数时，默认是行索引，即抽取整行数据，包括所有列。如抽取第1行数据，df.iloc[0]。</p>
<h4 id="3-5-1-抽取一行数据"><a href="#3-5-1-抽取一行数据" class="headerlink" title="3.5.1　抽取一行数据"></a>3.5.1　抽取一行数据</h4><p>抽取一行数据主要使用loc属性。【</p>
<p>示例19】　抽取一行考试成绩数据。（示例位置：资源包\MR\Code\03\19）抽取一行名为“明日”的考试成绩数据（包括所有列），程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051358694.png" alt="image-20211018051358694">运行程序，输出结果如图3.28所示。<br>使用iloc属性抽取第1行数据，指定行索引即可，如df.iloc[0]，输出结果同图3.28一样。</p>
<p>[1,2,2,3]</p>
<p>[[1,2,3,4]]</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051441548.png" alt="image-20211018051441548"></p>
<p>​                                                                                                                图3.28　抽取一行数据</p>
<h4 id="3-5-2-抽取多行数据"><a href="#3-5-2-抽取多行数据" class="headerlink" title="3.5.2　抽取多行数据"></a>3.5.2　抽取多行数据</h4><p>1．抽取任意多行数据<br><strong>通过loc属性和iloc属性指定行名和行索引即可实现抽取任意多行数据。</strong></p>
<p>【示例20】　抽取多行考试成绩数据。（示例位置：资源包\MR\Code\03\20）抽取行名为“明日”和“高袁圆”（即第1行和第3行数据）的考试成绩数据，可以使用loc属性，也可以使用iloc属性，其输出结果都是一样的，主要代码如下：</p>
<p>01 df1&#x3D;df.loc[[‘明日’,’高袁圆’]]<br>02 df1&#x3D;df.iloc[[0,2]]<br>运行程序，输出结果如图3.29所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051606515.png" alt="image-20211018051606515"></p>
<p>​                                                                                                图3.29　抽取多行数据<br>2．抽取连续任意多行数据<br>在loc属性和iloc属性中合理地使用冒号（:），即可抽取连续任意多行数据。</p>
<p>【示例21】　抽取连续几个学生的考试成绩。（示例位置：资源包\MR\Code\03\21）抽取连续几个学生的考试成绩，主要代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051735968.png" alt="image-20211018051735968"></p>
<p>运行程序，控制台输出结果如图3.30所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051746750.png" alt="image-20211018051746750"></p>
<p>​                                                                                 图3.30　抽取连续任意多行数据</p>
<h4 id="3-5-3-抽取指定列数据"><a href="#3-5-3-抽取指定列数据" class="headerlink" title="3.5.3　抽取指定列数据"></a>3.5.3　抽取指定列数据</h4><p>抽取指定列数据，可以直接使用列名，也可以使用loc属性和iloc属性。<br>1．直接使用列名【示例22】　抽取“语文”和“数学”的考试成绩。（示例位置：资源包\MR\Code\03\22）<br>抽取列名为“语文”和“数学”的考试成绩数据，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018051846594.png" alt="image-20211018051846594"></p>
<p>运行程序，输出结果如图3.31所示。</p>
<p>2．使用loc属性和iloc属性<br>前面介绍loc属性和iloc属性均有两个参数：第一个参数代表行；第二个参数代表列。那么这里抽取指定列数据时，行参数不能省略。</p>
<p>【示例23】　抽取指定学科的考试成绩。（示例位置：资源包\MR\Code\03\23）<br>下面使用loc属性和iloc属性抽取指定列数据，主要代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052009426.png" alt="image-20211018052009426"></p>
<p>运行程序，控制台输出结果如图3.32所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052021825.png" alt="image-20211018052021825"></p>
<p>​                                                                                      图3.31　直接使用列名</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052041459.png" alt="image-20211018052041459"></p>
<p>​                                                                                          图3.32　loc属性和iloc属性</p>
<h4 id="3-5-4-抽取指定行、列数据"><a href="#3-5-4-抽取指定行、列数据" class="headerlink" title="3.5.4　抽取指定行、列数据"></a>3.5.4　抽取指定行、列数据</h4><p>抽取指定行、列数据主要使用loc属性和iloc属性，这两个方法的两个参数都指定就可以实现指定行、列数据的抽取。</p>
<p>【示例24】　抽取指定学科和指定学生的考试成绩。（示例位置：资源包\MR\Code\03\24）使用loc属性和iloc属性抽取指定行、列数据，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052200474.png" alt="image-20211018052200474"></p>
<p>运行程序，控制台输出结果如图3.33所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052214525.png" alt="image-20211018052214525"></p>
<pre><code>                                                                               图3.33　抽取指定行、列数据
</code></pre>
<p>在上述结果中，第一个输出结果是一个数，不是数据，是由于“df.loc[‘七月流火’,’英语’]”没有使用方括号[]，导致输出的数据不是DataFrame类型。</p>
<h4 id="3-5-5-按指定条件抽取数据"><a href="#3-5-5-按指定条件抽取数据" class="headerlink" title="3.5.5　按指定条件抽取数据"></a>3.5.5　按指定条件抽取数据</h4><p>DataFrame对象实现数据查询有以下3种方式。　取其中的一个元素.iat[x,x]。　基于位置的查询，如.iloc[]、iloc[2,1]。　基于行、列名称的查询，如.loc[x]。</p>
<p>【示例25】　抽取指定学科和指定分数的数据。（示例位置：资源包\MR\Code\03\25）抽取语文成绩大于105，数学成绩大于88的数据，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052322850.png" alt="image-20211018052322850"></p>
<p>运行程序，输出结果如图3.34所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052523463.png" alt="image-20211018052523463">   </p>
<p>​                                                                                             图3.34　按指定条件抽取数据</p>
<h3 id="3-6-数据的增加、修改和删除"><a href="#3-6-数据的增加、修改和删除" class="headerlink" title="3.6　数据的增加、修改和删除"></a>3.6　数据的增加、修改和删除</h3><p>本节主要介绍如何操纵DataFrame对象中的各种数据。例如，数据的增加、修改和删除。</p>
<h4 id="3-6-1-增加数据"><a href="#3-6-1-增加数据" class="headerlink" title="3.6.1　增加数据"></a>3.6.1　增加数据</h4><p>DataFrame对象增加数据主要包括列数据增加和行数据增加。首先看一下原始数据，如图3.35所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052637063.png" alt="image-20211018052637063"></p>
<p>图3.35　原始数据</p>
<h5 id="1．按列增加数据"><a href="#1．按列增加数据" class="headerlink" title="1．按列增加数据"></a>1．按列增加数据</h5><p>按列增加数据，可以通过以下3种方式实现。<br>（1）直接为DataFrame对象赋值</p>
<p>【示例26】　增加一列“物理”成绩。（示例位置：资源包\MR\Code\03\26）<br>增加一列“物理”成绩，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052702267.png" alt="image-20211018052702267"></p>
<p>运行程序，输出结果如图3.36所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052756371.png" alt="image-20211018052756371"></p>
<p>​                                                                                   图3.36　按列增加数据<br>（2）使用loc属性在DataFrame对象的最后增加一列</p>
<p>【示例27】　使用loc属性增加一列“物理”成绩。（示例位置：资源包\MR\Code\03\27）使用loc属性在DataFrame对象的最后增加一列。例如，增加“物理”一列，主要代码如下：</p>
<p>df.loc[:,’物理’] &#x3D; [88,79,60,50]<br>在DataFrame对象最后增加一列“物理”，其值为等号右边数据。</p>
<p>（3）在指定位置插入一列<br>在指定位置插入一列，主要使用insert()方法。</p>
<p>【示例28】　在第1列后面插入“物理”成绩。（示例位置：资源包\MR\Code\03\28）<br>例如，在第1列后面插入“物理”，其值为wl的数值，主要代码如下：</p>
<p>01 wl &#x3D;[88,79,60,50]<br>02 df.insert(1,’物理’,wl)<br>运行程序，输出结果如图3.37所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018052920670.png" alt="image-20211018052920670"></p>
<p>​                                                                                                图3.37　使用insert()方法增加一列</p>
<h5 id="2．按行增加数据"><a href="#2．按行增加数据" class="headerlink" title="2．按行增加数据"></a>2．按行增加数据</h5><p>按行增加数据，可以通过以下两种方式实现。<br>（1）增加一行数据<br>增加一行数据主要使用loc属性实现。</p>
<p>【示例29】　在成绩表中增加一行数据。（示例位置：资源包\MR\Code\03\29）在成绩表中增加一行数据，即“钱多多”同学的成绩，主要代码如下：</p>
<p>df.loc[‘钱多多’] &#x3D; [100,120,99]<br>（2）增加多行数据</p>
<p>增加多行数据主要使用<strong>字典</strong>结合**append()**方法实现。</p>
<p>【示例30】　在原有数据中增加几名同学的考试成绩。（示例位置：资源包\MR\Code\03\30）在原有数据中增加“钱多多”“童年”“无名”同学的考试成绩，主要代码如下：</p>
<p>01 df_insert&#x3D;pd.DataFrame({‘语文’:[100,123,138],’数学’:[99,142,60],’英语’:[98,139,99]},index &#x3D; [‘钱多多’,’童年’,’无名’])<br>02 df1 &#x3D; df.append(df_insert)<br>运行程序，输出结果分别如图3.38和图3.39所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018053145141.png" alt="image-20211018053145141"></p>
<p>​                                                                                       图3.38　增加一行数据</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018053204251.png" alt="image-20211018053204251"></p>
<p>​                                                                                        图3.39　增加多行数据</p>
<h4 id="3-6-2-修改数据"><a href="#3-6-2-修改数据" class="headerlink" title="3.6.2　修改数据"></a>3.6.2　修改数据</h4><p>修改数据包括行、列标题和数据的修改，首先看一下原始数据，如图3.40所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018053230905.png" alt="image-20211018053230905"></p>
<p>​                                                                                               图3.40　原始数据</p>
<h5 id="1．修改列标题"><a href="#1．修改列标题" class="headerlink" title="1．修改列标题"></a>1．修改列标题</h5><p>修改列标题主要使用DataFrame对象的cloumns属性，直接赋值即可。</p>
<p>【示例31】　修改“数学”的列名。（示例位置：资源包\MR\Code\03\31）将“数学”修改为“数学（上）”，主要代码如下：</p>
<p>df.columns&#x3D;[‘语文’,’数学（上）’,’英语’]</p>
<p>上述代码中，即使只修改“数学”为“数学（上）”，但是也<strong>要将所有列的标题全部写上；</strong>否则将报错。<br>下面再介绍一种方法，使用DataFrame对象的rename()方法修改列标题。</p>
<p>【示例32】　修改多个学科的列名。（示例位置：资源包\MR\Code\03\32）将“语文”修改为“语文（上）”、“数学”修改为“数学（上）”、“英语”修改为“英语（上）”，主要代码如下：</p>
<p>df1&#x3D;df.rename(columns &#x3D; {‘语文’:’语文（上）’,’数学’:’数学（上）’,’英语’:’英语（上）’},inplace &#x3D; True)</p>
<p>上述代码中，参数inplace为True，表示直接修改df；否则，不修改df，只返回修改后的数据。<br>运行程序，输出结果分别如图3.41和图3.42所示。</p>
<h5 id="2．修改行标题"><a href="#2．修改行标题" class="headerlink" title="2．修改行标题"></a>2．修改行标题</h5><p>修改行标题主要使用DataFrame对象的index属性，直接赋值即可。</p>
<p>【示例33】　将行标题统一修改为数字编号。（示例位置：资源包\MR\Code\03\33）<br>将行标题统一修改为数字编号，主要代码如下：</p>
<p>df.index&#x3D;list(‘1234’)</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018053500036.png" alt="image-20211018053500036"></p>
<p>​                                                                                         图3.41　修改列标题1</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018053517247.png" alt="image-20211018053517247"></p>
<p>​                                                                                                 图3.42　修改列标题2</p>
<p>使用DataFrame对象的rename()方法也可以修改行标题。例如，将行标题统一修改为数字编号，主要代码如下：</p>
<p>df.rename({‘明日’:1,’七月流火’:2,’高袁圆’:3,’二月二’:4},axis&#x3D;0,inplace &#x3D; True)</p>
<h5 id="3．修改数据"><a href="#3．修改数据" class="headerlink" title="3．修改数据"></a>3．修改数据</h5><p>修改数据主要使用DataFrame对象的loc属性和iloc属性。</p>
<p>【示例34】　修改学生成绩数据。（示例位置：资源包\MR\Code\03\34）<br>（1）修改整行数据<br>例如，修改“明日”同学的各科成绩，主要代码如下：</p>
<p>df.loc[‘明日’]&#x3D;[120,115,109]<br>如果各科成绩均加10分，可以直接在原有值上加10，主要代码如下：</p>
<p>df.loc[‘明日’]&#x3D;df.loc[‘明日’]+10<br>（2）修改整列数据<br>例如，修改所有同学的“语文”成绩，主要代码如下：</p>
<p>df.loc[:,’语文’]&#x3D;[115,108,112,118]<br>（3）修改某一数据</p>
<p>例如，修改“明日”同学的“语文”成绩，主要代码如下：</p>
<p>df.loc[‘明日’,’语文’]&#x3D;115<br>（4）使用iloc属性修改数据<br>通过iloc属性指定行、列位置实现修改数据，主要代码如下：</p>
<p>01 df.iloc[0,0]&#x3D;115                        #修改某一数据<br>02 df.iloc[:,0]&#x3D;[115,108,112,118]          #修改整列数据<br>03 df.iloc[0,:]&#x3D;[120,115,109]              #修改整行数据</p>
<h4 id="3-6-3-删除数据"><a href="#3-6-3-删除数据" class="headerlink" title="3.6.3　删除数据"></a>3.6.3　删除数据</h4><p>删除数据主要使用DataFrame对象的drop()方法。语法如下：</p>
<p>DataFrame.drop(labels&#x3D;None, axis&#x3D;0, index&#x3D;None, columns&#x3D;None, level&#x3D;None, inplace&#x3D;False, errors&#x3D;’raise’)<br>参数说明：　</p>
<p>labels：表示行标签或列标签。　</p>
<p>axis：axis &#x3D; 0，表示按行删除；</p>
<p>​			axis &#x3D; 1，表示按列删除。默认值为0，即按行删除。　</p>
<p>index：删除行，默认值为None。　</p>
<p>columns：删除列，默认值为None。</p>
<p>level：针对有两级索引的数据。level &#x3D; 0，表示按第1级索引删除整行；level &#x3D; 1表示按第2级索引删除整行，默认值为None。　inplace：可选参数，对原数组做出修改并返回一个新数组。默认值为False，如果值为True，那么原数组直接就被替换。　</p>
<p>errors：参数值为ignore或raise，默认值为raise，如果值为ignore（忽略），则取消错误。</p>
<h5 id="1．删除行、列数据"><a href="#1．删除行、列数据" class="headerlink" title="1．删除行、列数据"></a>1．删除行、列数据</h5><p>【示例35】　删除学生成绩数据。（示例位置：资源包\MR\Code\03\35）<br>删除指定的学生成绩数据，主要代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018054027938.png" alt="image-20211018054027938"></p>
<h5 id="2．删除特定条件的行"><a href="#2．删除特定条件的行" class="headerlink" title="2．删除特定条件的行"></a>2．删除特定条件的行</h5><p>删除满足特定条件的行，首先找到满足该条件的行索引，然后再使用drop()方法将其删除。</p>
<p>【示例36】　删除符合条件的学生成绩数据。（示例位置：资源包\MR\Code\03\36）<br>删除“数学”成绩中包含88的行、“语文”成绩中小于110的行，主要代码如下：</p>
<p>01 df.drop(index&#x3D;df[df[‘数学’].<strong>isin</strong>([88])].index[0],inplace&#x3D;True)      #删除“数学”成绩中包含88的行<br>02 df.drop(index&#x3D;df[df[‘语文’]&lt;110].index[0],inplace&#x3D;True)             #删除“语文”成绩中小于110的行说明<br>以上代码中的方法都可以实现删除指定的行、列数据，读者选择一种即可。</p>
<h3 id="3-7-数据清洗"><a href="#3-7-数据清洗" class="headerlink" title="3.7　数据清洗"></a>3.7　数据清洗</h3><h4 id="3-7-1-缺失值查看与处理"><a href="#3-7-1-缺失值查看与处理" class="headerlink" title="3.7.1　缺失值查看与处理"></a>3.7.1　缺失值查看与处理</h4><p>缺失值是指由于某种原因导致数据为空，这种情况一般有不处理、删除、填充／替换、插值（以均值／中位数／众数等填补）这4种处理方式。</p>
<h5 id="1．缺失值查看"><a href="#1．缺失值查看" class="headerlink" title="1．缺失值查看"></a>1．缺失值查看</h5><p>首先需要找到缺失值，主要使用DataFrame对象的info()方法。</p>
<p>【示例37】　查看数据概况。（示例位置：资源包\MR\Code\03\37）以淘宝销售数据为例，首先输出数据，然后使用info()方法查看数据，程序代码如下：</p>
<p>01 import pandas as pd<br>02 df&#x3D;pd.read_excel(‘TB2018.xls’)<br>03 print(df)<br>04 print(df.info())</p>
<p>运行程序，控制台输出结果如图3.43所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018054304916.png" alt="image-20211018054304916"></p>
<p>图3.43　缺失值查看<br>在Python中，缺失值一般用NaN表示，如图3.43所示。通过info()方法可看到“买家会员名”“买家实际支付金额”“宝贝标题”“订单付款时间”的非空数量是10，而“宝贝总数量”和“类别”的非空数量是8，那么说明这两项存在空值。</p>
<p>【示例38】　判断数据是否存在缺失值。（示例位置：资源包\MR\Code\03\38）<br>接下来，判断数据是否存在缺失值还可以使用isnull()方法和notnull()方法，主要代码如下：</p>
<p>01  print(df.isnull())<br>02  print(df.notnull())<br>运行程序，控制台输出结果如图3.44所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018054406384.png" alt="image-20211018054406384"></p>
<p>​                                                                                              图3.44　判断缺失值<br>使用isnull()方法缺失值返回True，非缺失值返回False；而notnull()方法与isnull()方法正好相反，缺失值返回False，非缺失值返回True。<br>如果使用df[df.isnull() &#x3D;&#x3D; False]，</p>
<p>则会将所有非缺失值的数据找出来，只针对Series对象。</p>
<h5 id="2．缺失值删除处理"><a href="#2．缺失值删除处理" class="headerlink" title="2．缺失值删除处理"></a>2．缺失值删除处理</h5><p>通过前面的判断得知数据缺失情况，下面将缺失值删除，主要使用dropna()方法，该方法用于删除含有缺失值的行，主要代码如下：</p>
<p>df1&#x3D;df.dropna()<br>运行程序，输出结果如图3.45所示。说明<br>有些时候数据可能存在整行为空的情况，此时可以在dropna()方法中指定参数how&#x3D;’all’，删除所有空行。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018054531853.png" alt="image-20211018054531853"></p>
<p>​                                                                                   图3.45　缺失值删除处理1<br>从运行结果得知：dropna()方法将所有包含缺失值的数据全部删除了。那么，此时如果我们认为有些数据虽然存在缺失值，但是不影响数据分析，那么可以使用以下方法处理。例如，上述数据中只保留“宝贝总数量”不存在缺失值的数据，而类别是否缺失不关注，则可以使用notnull()方法判断，主要代码如下：</p>
<p>df2&#x3D;df[df[‘宝贝总数量’].notnull()]<br>运行程序，输出结果如图3.46所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018054627170.png" alt="image-20211018054627170"></p>
<p>图3.46　缺失值删除处理2</p>
<h5 id="3．缺失值填充处理"><a href="#3．缺失值填充处理" class="headerlink" title="3．缺失值填充处理"></a>3．缺失值填充处理</h5><p>对于缺失数据，如果比例高于30%可以选择放弃这个指标，做删除处理；低于30%尽量不要删除，而是选择将这部分数据填充，一般以0、均值、众数（大多数）填充。DataFrame对象中的fillna()函数可以实现填充缺失数据，pad&#x2F;ffill表示用前一个非缺失值去填充该缺失值；backfill&#x2F;bfill表示用下一个非缺失值填充该缺失值；None用于指定一个值去替换缺失值。</p>
<p>【示例39】　将NaN填充为0。（示例位置：资源包\MR\Code\03\39）对于用于计算的数值型数据如果为空，可以选择用0填充。例如，将“宝贝总数量”为空的数据填充为0，主要代码如下：</p>
<p>df[‘宝贝总数量’] &#x3D; df[‘宝贝总数量’].fillna(0)<br>运行程序，输出结果如图3.47所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018054749852.png" alt="image-20211018054749852"></p>
<p>​                                                                                                图3.47　缺失值填充处理</p>
<h4 id="3-7-2-重复值处理"><a href="#3-7-2-重复值处理" class="headerlink" title="3.7.2　重复值处理"></a>3.7.2　重复值处理</h4><p>对于数据中存在的重复数据，包括重复的行或者几行中某几列的值重复一般做删除处理，主要使用DataFrame对象的drop_duplicates()方法。</p>
<p>【示例40】　处理淘宝电商销售数据中的重复数据。（示例位置：资源包\MR\Code\03\40）下面以“1月.xlsx”淘宝销售数据为例，对其中的重复数据进行处理。<br>（1）判断每一行数据是否重复（完全相同），主要代码如下：</p>
<p>df1.duplicated()<br>如果返回值为False表示不重复，返回值为True表示重复。<br>（2）去除全部的重复数据，主要代码如下：</p>
<p>df1.drop_duplicates()#默认保留一行<br>（3）去除指定列的重复数据，主要代码如下：</p>
<p>df1.drop_duplicates([‘买家会员名’])<br>（4）保留重复行中的最后一行，主要代码如下：</p>
<p>df1.drop_duplicates([‘买家会员名’],keep&#x3D;’last’)</p>
<p>说明<br>以上代码中参数keep的值有3个。当keep&#x3D;’first’表示保留第一次出现的重复行，<strong>是默认值</strong>；当keep为另外两个取值，即last和False时，分别表示保留最后一次出现的重复行和去除所有重复行。<br>（5）直接删除，保留一个副本，主要代码如下：</p>
<p>df1.drop_duplicates([‘买家会员名’,’买家支付宝账号’],inplace&#x3D;Fasle)<br>inplace&#x3D;True表示直接在原来的DataFrame上删除重复项，而默认值False表示删除重复项后生成一个副本。</p>
<h4 id="3-7-3-异常值的检测与处理"><a href="#3-7-3-异常值的检测与处理" class="headerlink" title="3.7.3　异常值的检测与处理"></a>3.7.3　异常值的检测与处理</h4><p>首先了解一下什么是异常值。在数据分析中异常值是指超出或低于正常范围的值，如年龄大于200、身高大于3米、宝贝总数量为负数等类似数据。那么这些数据如何检测呢？主要有以下几种方法。<br>（1）根据给定的数据范围进行判断，不在范围内的数据视为异常值。<br>（2）均方差。<br>在统计学中，如果一个数据分布近似正态分布（数据分布的一种形式，正态分布的概率密度函数曲线呈钟形，两头低、中间高、左右对称，因此人们又经常称之为钟形曲线），那么大约68%的数据值会在均值的一个标准差范围内，大约95%会在两个标准差范围内，大约99.7%会在3个标准差范围内。<br>（3）箱形图。<br>箱形图是显示一组数据分散情况资料的统计图。它可以将数据通过四分位数的形式进行图形化描述。箱形图通过上限和下限作为数据分布的边界。任何高于上限或低于下限的数据都可以认为是异常值，如图3.48所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018055103761.png" alt="image-20211018055103761"></p>
<p>​                                                                                            图3.48　箱形图说明<br>有关箱形图的介绍以及如何通过箱形图识别异常值可参见第6章。<br>了解了异常值的检测，接下来介绍如何处理异常值，主要包括以下几种处理方式。<br>（1）最常用的方式是删除。<br>（2）将异常值当缺失值处理，以某个值填充。<br>（3）将异常值当特殊情况进行分析，研究异常值出现的原因。</p>
<p>缺失值替换</p>
<p>replace(to_repalce&#x3D;None,value&#x3D;None,inplace&#x3D;False,limit&#x3D;None,regex&#x3D;False,method&#x3D;’pad’)</p>
<p>to_repalce:指定需要替换的原值，可以是字符型，正则表达式，列表，series，整数，浮点数或None，例如{‘V1’:n1,’v2’:n2}表示使用n1,n2替换掉原来的v1,v2,这时的value必须为None</p>
<p>value：指定用于替换的新值</p>
<p>inplace：True修改原始数据，False仅修改视图</p>
<p>limit：限制向前，向后填充的最大个数</p>
<p>regex：默认False，若为True则to_palce必须为一个字符串。</p>
<p>pd.where(cond,value)</p>
<p>满足条件的保留，不满足条件的修改为value</p>
<h3 id="3-8-索引设置"><a href="#3-8-索引设置" class="headerlink" title="3.8 索引设置"></a>3.8 索引设置</h3><p>索引能够快速查询数据，本节主要介绍索引的作用以及索引的应用。</p>
<h4 id="3-8-1-索引的作用"><a href="#3-8-1-索引的作用" class="headerlink" title="3.8.1　索引的作用"></a>3.8.1　索引的作用</h4><p>索引的作用相当于图书的目录，可以根据目录中的页码快速找到所需的内容。Pandas索引的作用如下。　</p>
<p>更方便查询数据。　</p>
<p>使用索引可以提升查询性能。　</p>
<p>如果索引是唯一的，Pandas会使用哈希表优化，查找数据的时间复杂度为O(1)。　</p>
<p>如果索引不是唯一的，但是有序，Pandas会使用二分查找算法，查找数据的时间复杂度为O(logN)。　</p>
<p>如果索引是完全随机的，那么每次查询都要扫描数据表，查找数据的时间复杂度为O(N)。　自动的数据对齐功能，示意图如图3.49所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018113947441.png" alt="image-20211018113947441"></p>
<p>​                                                                                    图3.49　自动数据对齐示意图<br>实现上述效果，程序代码如下：</p>
<p>01 import pandas as pd<br>02 s1 &#x3D; pd.Series([10,20,30],index&#x3D; list(“abc”))<br>03 s2 &#x3D; pd.Series([2,3,4],index&#x3D;list(“bcd”))<br>04 print(s1 + s2)　</p>
<p>强大的数据结构。　</p>
<p>基于分类数的索引，提升性能。　</p>
<p>多维索引，用于groupby多维聚合结果等。　</p>
<p>时间类型索引，强大的日期和时间的方法支持。</p>
<h4 id="3-8-2-重新设置索引"><a href="#3-8-2-重新设置索引" class="headerlink" title="3.8.2　重新设置索引"></a>3.8.2　重新设置索引</h4><p>Pandas有一个很重要的方法是reindex()，它的作用是创建一个适应新索引的新对象。语法如下：</p>
<p>DataFrame.reindex(labels &#x3D; None,index &#x3D; None,columns &#x3D; None,axis &#x3D; None,method &#x3D; None,copy &#x3D; True,level &#x3D;<br>None,fill_value &#x3D; nan,limit &#x3D; None,tolerance &#x3D; None)<br>常用参数说明：　</p>
<p>labels：标签，可以是数组，默认值为None（无）。　</p>
<p>index：行索引，默认值为None。　</p>
<p>columns：列索引，默认值为None。</p>
<p>axis：轴，axis&#x3D;0表示行，axis&#x3D;1表示列。默认值为None。　</p>
<p>method：默认值为None，重新设置索引时，选择插值（一种填充缺失数据的方法）方法，其值可以是None、bfill&#x2F;backfill（向后填充）、ffill&#x2F;pad（向前填充）等。　</p>
<p>fill_value：缺失值要填充的数据。如缺失值不用NaN填充，而用0填充，则设置fill_value&#x3D;0即可。</p>
<h5 id="1．对Series对象重新设置索引"><a href="#1．对Series对象重新设置索引" class="headerlink" title="1．对Series对象重新设置索引"></a>1．对Series对象重新设置索引</h5><p>【示例41】　重新设置物理成绩的索引。（示例位置：资源包\MR\Code\03\41）<br>在3.2.3节已经建立了一组学生的物理成绩，下面重新设置索引，程序代码如下：</p>
<p>01 import pandas as pd<br>02 s1&#x3D;pd.Series([88,60,75],index&#x3D;[1,2,3])<br>03 print(s1)<br>04 print(s1.reindex([1,2,3,4,5]))<br>运行程序，控制台输出结果对比如图3.50和图3.51所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018124142285.png" alt="image-20211018124142285"></p>
<p>​                                                                                                              图3.50　原数据</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018124200693.png" alt="image-20211018124200693"></p>
<p>​                                                                                                 图3.51　重新设置索引<br>从运行结果得知：reindex()方法根据新索引进行了重新排序，并且对缺失值自动填充NaN。如果不想用NaN填充，则可以为fill_value参数指定值，如0，主要代码如下：</p>
<p>s1.reindex([1,2,3,4,5],fill_value&#x3D;0)<br>而对于一些有一定顺序的数据，我们可能需要插值（插值是一种填充缺失数据的方法）来填充缺失的数据，可以使用method参数。</p>
<p>【示例42】　向前和向后填充数据。（示例位置：资源包\MR\Code\03\42）</p>
<p>向前填充（和前面数据一样）、向后填充（和后面数据一样），主要代码如下：</p>
<p>01 print(s1.reindex([1,2,3,4,5],method&#x3D;’ffill’))   #向前填充<br>02 print(s1.reindex([1,2,3,4,5],method&#x3D;’bfill’))   #向后填充</p>
<h5 id="2．对DataFrame对象重新设置索引"><a href="#2．对DataFrame对象重新设置索引" class="headerlink" title="2．对DataFrame对象重新设置索引"></a>2．对DataFrame对象重新设置索引</h5><p>对于DataFrame对象，reindex()方法用于修改行索引和列索引。</p>
<p>【示例43】　创建成绩表并重新设置索引。（示例位置：资源包\MR\Code\03\43）通过二维数组创建成绩表，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018124525086.png" alt="image-20211018124525086">通过reindex()方法重新设置行索引，主要代码如下：</p>
<p>df.reindex([‘mr001’,’mr002’,’mr003’,’mr004’,’mr005’])<br>通过reindex()方法重新设置列索引，主要代码如下：</p>
<p>df.reindex(columns&#x3D;[‘语文’,’物理’,’数学’,’英语’])<br>通过reindex()方法重新设置行索引和列索引，主要代码如下：</p>
<p>df.reindex(index&#x3D;[‘mr001’,’mr002’,’mr003’,’mr004’,’mr005’],columns&#x3D;[‘语文’,’物理’,’数学’,’英语’])<br>运行程序，控制台输出结果分别为原始数据（见图3.52）、重新设置行索引（见图3.53）、重新设置列索引（见图3.54）、重新设置行、列索引（见图3.55）。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018124708302.png" alt="image-20211018124708302"></p>
<p>​                                                                                                  图3.52　原始数据</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018124737241.png" alt="image-20211018124737241"></p>
<p>​                                                                                                 图3.53　重新设置行索引</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018124821931.png" alt="image-20211018124821931"></p>
<p>​                                                                                                   图3.54　重新设置列索引</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018124905647.png" alt="image-20211018124905647"></p>
<h4 id="3-8-3-设置某列为行索引"><a href="#3-8-3-设置某列为行索引" class="headerlink" title="3.8.3　设置某列为行索引"></a>3.8.3　设置某列为行索引</h4><p>设置某列为行索引主要使用set_index()方法。</p>
<p>【示例44】　设置“买家会员名”为行索引。（示例位置：资源包\MR\Code\03\44）<br>首先，导入“1月.xlsx”Excel文件，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018125022369.png" alt="image-20211018125022369"></p>
<p>运行程序，输出结果如图3.56所示。<br>此时默认行索引为0、1、2、3、4，下面将“买家会员名”作为行索引，主要代码如下：</p>
<p>df2&#x3D;df.set_index([‘买家会员名’])<br>运行程序，输出结果如图3.57所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018125215478.png" alt="image-20211018125215478"></p>
<p>​                                                                                                图3.56　1月淘宝销售数据（部分数据）</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018125235811.png" alt="image-20211018125235811"></p>
<p>​                                                                                                       图3.57　设置“买家会员名”为索引<br>如果在set_index()方法中传入参数drop&#x3D;True，则会删除“买家会员名”；如果传入drop&#x3D;False，则会保留“买家会员名”。默认为False。</p>
<h4 id="3-8-4-数据清洗后重新设置连续的行索引"><a href="#3-8-4-数据清洗后重新设置连续的行索引" class="headerlink" title="3.8.4　数据清洗后重新设置连续的行索引"></a>3.8.4　数据清洗后重新设置连续的行索引</h4><p>在对Dataframe对象进行数据清洗后，例如去掉含NaN的行之后，发现行索引还是原来的行索引，对比效果如图3.58和图3.59所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018125500556.png" alt="image-20211018125500556"></p>
<p>​                                                                                            图3.58　原数据</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018125521969.png" alt="image-20211018125521969"></p>
<p>​                                                                           图3.59　数据清洗后还是原来的索引</p>
<p>【示例45】　删除数据后重新设置索引。（示例位置：资源包\MR\Code\03\45）</p>
<p>如果要重新设置索引可以使用reset_index()方法，在删除缺失数据后重新设置索引，主要代码如下：</p>
<p>df2&#x3D;df.dropna().reset_index(drop&#x3D;True)<br>运行程序，输出结果如图3.60所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018125620746.png" alt="image-20211018125620746"></p>
<p>​                                                                           图3.60　数据清洗后重新设置连续的行索引<br>另外，对于分组统计后的数据，有时也需要重新设置连续的行索引，方法同上。</p>
<h3 id="3-9-数据排序与排名"><a href="#3-9-数据排序与排名" class="headerlink" title="3.9　数据排序与排名"></a>3.9　数据排序与排名</h3><p>本节主要介绍数据的各种排序和排名方法。</p>
<h4 id="3-9-1-数据排序"><a href="#3-9-1-数据排序" class="headerlink" title="3.9.1　数据排序"></a>3.9.1　数据排序</h4><p>DataFrame数据排序主要使用sort_values()方法，该方法类似于SQL中的ORDER BY。sort_values()方法可以根据指定行／列进行排序，语法如下：</p>
<p>DataFrame.sort_values(by,axis&#x3D;0,ascending&#x3D;True,inplace&#x3D;False,kind&#x3D;’quicksort’,na_position&#x3D;’last’,ignore_<br>index&#x3D;False)<br>参数说明：　</p>
<p>by：要排序的名称列表。</p>
<p>axis：轴，axis&#x3D;0表示行，axis&#x3D;1表示列。默认值为0，即按行排序。　</p>
<p>ascending：升序或降序排序，布尔值，指定多个排序可以使用布尔值列表。默认值为True。　</p>
<p>inplace：布尔值，默认值为False，如果值为True，则就地排序。　</p>
<p>kind：指定排序算法，值为quicksort（快速排序）、mergesort（混合排序）或heapsort（堆排），默认值为quicksort。　</p>
<p>na_position：空值（NaN）的位置，值为first空值在数据开头，值为last空值在数据最后，默认值为last。　</p>
<p>ignore_index：布尔值，是否忽略索引，值为True标记索引（从0开始按顺序的整数值），值为False则忽略索引。</p>
<h5 id="1．按一列数据排序"><a href="#1．按一列数据排序" class="headerlink" title="1．按一列数据排序"></a>1．按一列数据排序</h5><p>【示例46】　按“销量”降序排序。（示例位置：资源包\MR\Code\03\46）<br>按“销量”降序排序，排序对比效果如图3.61和图3.62所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018125836428.png" alt="image-20211018125836428"></p>
<p>​                                                                                                     图3.61　原始数据</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018130000864.png" alt="image-20211018130000864"></p>
<p>​                                                                                图3.62　按“销量”降序排序实用技巧<br>Spyder变量浏览窗口本身也支持数据排序，单击需要排序的列即可实现升序或降序排序。<br>程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018130020866.png" alt="image-20211018130020866"></p>
<h5 id="2．按多列数据排序"><a href="#2．按多列数据排序" class="headerlink" title="2．按多列数据排序"></a>2．按多列数据排序</h5><p>多列排序是按照给定列的先后顺序进行排序的。</p>
<p>【示例47】　按照“图书名称”和“销量”降序排序。（示例位置：资源包\MR\Code\03\47）<br>按照“图书名称”和“销量”降序排序，首先按“图书名称”降序排序，然后再按“销量”降序排序，排序后的效果如图3.63所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018130140068.png" alt="image-20211018130140068"></p>
<p>​                                                                图3.63　按照“图书名称”和“销量”降序排序<br>主要代码如下：</p>
<p>df1&#x3D;df.sort_values(by&#x3D;[‘图书名称’,’销量’])</p>
<h5 id="3．对统计结果排序"><a href="#3．对统计结果排序" class="headerlink" title="3．对统计结果排序"></a>3．对统计结果排序</h5><p>【示例48】　对分组统计数据进行排序。（示例位置：资源包\MR\Code\03\48）</p>
<p>按“类别”分组统计销量并进行降序排序，统计排序后的效果如图3.64所示。</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018130240441.png" alt="image-20211018130240441"></p>
<p>​                                                                                 图3.64　按“类别”分组统计销量并降序排序<br>主要代码如下：</p>
<p>01 df1&#x3D;df.groupby([“类别”])[“销量”].sum().reset_index()</p>
<p>2 df2&#x3D;df1.sort_values(by&#x3D;’销量’,ascending&#x3D;False)</p>
<h5 id="4．按行数据排序"><a href="#4．按行数据排序" class="headerlink" title="4．按行数据排序"></a>4．按行数据排序</h5><p>【示例49】　按行数据排序。（示例位置：资源包\MR\Code\03\49）<br>按行排序，主要代码如下：</p>
<p>df&#x3D;dfrow.sort_values(by&#x3D;0,ascending&#x3D;True,axis&#x3D;1)</p>
<p>注意<br><strong>按行排序的数据类型要一致</strong>，否则会出现错误提示。</p>
<h4 id="3-9-2-数据排名"><a href="#3-9-2-数据排名" class="headerlink" title="3.9.2　数据排名"></a>3.9.2　数据排名</h4><p>排名是根据Series对象或DataFrame的某几列的值进行排名的，主要使用rank()方法，语法如下：</p>
<p>DataFrame.rank(axis&#x3D;0,method&#x3D;’average’,numeric_only&#x3D;None,na_option&#x3D;’keep’,ascending&#x3D;True,pct&#x3D;False)<br>参数说明：　</p>
<p>axis：轴，axis&#x3D;0表示行，axis&#x3D;1表示列。默认值为0，即按行排序。　</p>
<p>method：表示在具有相同值的情况下所使用的排序方法。设置值如下。　</p>
<p>​	average：默认值，平均排名。</p>
<p>​	min：最小值排名。　</p>
<p>​	max：最大值排名。　</p>
<p>​	first：按值在原始数据中的出现顺序分配排名。　</p>
<p>​	dense：密集排名，类似最小值排名，但是排名每次只增加1，即排名相同的数据只占一个名次。　</p>
<p>numeric_only：对于DataFrame对象，如果设置值为True，则只对数字列进行排序。　</p>
<p>na_option：空值的排序方式，设置值如下。　</p>
<p>​	keep：保留，将空值等级赋值给NaN值。　</p>
<p>​	top：如果按升序排序，则将最小排名赋值给NaN值。　</p>
<p>​	bottom：如果按升序排序，则将最大排名赋值给NaN值。　</p>
<p>ascending：升序或降序排序，布尔值，指定多个排序可以使用布尔值列表。默认值为True。　</p>
<p>pct：布尔值，是否以百分比形式返回排名。默认值为False。</p>
<p>1．顺序排名</p>
<p>【示例50】　对产品销量按顺序进行排名。（示例位置：资源包\MRCode\03\50）<br>下面对销量相同的产品，按照出现的顺序排名，程序代码如下：</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018130818619.png" alt="image-20211018130818619"></p>
<p>程序运行结果如图3.65所示。<br>2．平均排名</p>
<p>【示例51】　对产品销量进行平均排名。（示例位置：资源包\MR\Code\03\51）<br>现在对销量相同的产品，按照顺序排名的平均值作为平均排名，主要代码如下：</p>
<p>01 df[‘平均排名’]&#x3D;df[‘销量’].rank(ascending&#x3D;False)</p>
<p>02 df1&#x3D;df[[‘图书名称’,’销量’,’平均排名’]]<br>程序运行结果如图3.66所示。<br>3．最小值排名<br>排名相同的，按顺序排名取最小值作为排名，主要代码如下：</p>
<p>df[‘最小值排名’]&#x3D;df[‘销量’].rank(method&#x3D;”min”,ascending&#x3D;False)<br>4．最大值排名<br>排名相同的，按顺序排名取最大值作为排名，主要代码如下：</p>
<p>df[‘最大值排名’]&#x3D;df[‘销量’]</p>
<p>rank(method&#x3D;”max”,ascending&#x3D;False)</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018131022583.png" alt="image-20211018131022583"></p>
<p>​                                                                  图3.65　销量相同按出现的先后顺序排名</p>
<p><img src="/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/image-20211018131037838.png" alt="image-20211018131037838"></p>
<p>​                                                                   图3.66　销量相同按顺序排名的平均值排名</p>
<h3 id="3-10-小结"><a href="#3-10-小结" class="headerlink" title="3.10　小结"></a>3.10　小结</h3><p>本章介绍了Pandas数据处理的基本知识，从最初的数据来源开始（创建DataFrame数据或导入外部数据）到数据抽取、数据增删改操作、数据清洗、索引，再到数据排序，常用的数据处理操作基本都涉及了，通过本章的学习基本能够独立完成一些简单的数据处理工作。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="http://example.com">宇宙建筑家</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://example.com/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/">http://example.com/2019/04/15/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/./img/people.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/gh/overtrue/share.js@master/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2019/04/18/%E7%AC%AC8%E7%AB%A0%E5%9B%BE%E8%A7%A3%E6%95%B0%E7%BB%84%E8%AE%A1%E7%AE%97%E6%A8%A1%E5%9D%97NumPy/"><img class="prev-cover" src="/./img/back.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">NumPy</div></div></a></div><div class="next-post pull-right"><a href="/2019/04/11/%E5%8F%98%E9%87%8F%E6%8F%90%E5%8D%87%E4%B8%8E%E5%87%BD%E6%95%B0%E6%8F%90%E5%8D%87/"><img class="next-cover" src="/./img/people.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">变量提升与函数提升</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/./img/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">宇宙建筑家</div><div class="author-info__description">今夜无雪无晴无悲喜</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">120</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/withu0519" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:xxxxxx@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E7%B2%BE%E9%80%9A"><span class="toc-number">1.</span> <span class="toc-text">Python数据分析从入门到精通</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E4%BA%86%E8%A7%A3%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90"><span class="toc-number">2.</span> <span class="toc-text">第一章 了解数据分析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%B5%81%E7%A8%8B"><span class="toc-number">2.1.</span> <span class="toc-text">一. 数据分析流程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%86%9F%E6%82%89%E5%B7%A5%E5%85%B7"><span class="toc-number">2.1.1.</span> <span class="toc-text">1.熟悉工具</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%98%8E%E7%A1%AE%E7%9B%AE%E7%9A%84"><span class="toc-number">2.1.2.</span> <span class="toc-text">2.明确目的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">2.1.3.</span> <span class="toc-text">3.获取数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86"><span class="toc-number">2.1.4.</span> <span class="toc-text">4.数据处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90"><span class="toc-number">2.1.5.</span> <span class="toc-text">5.数据分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E9%AA%8C%E8%AF%81%E7%BB%93%E6%9E%9C"><span class="toc-number">2.1.6.</span> <span class="toc-text">6.验证结果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%BB%93%E6%9E%9C%E5%91%88%E7%8E%B0"><span class="toc-number">2.1.7.</span> <span class="toc-text">7.结果呈现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E6%95%B0%E6%8D%AE%E5%BA%94%E7%94%A8"><span class="toc-number">2.1.8.</span> <span class="toc-text">8.数据应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%B8%B8%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="toc-number">2.2.</span> <span class="toc-text">二.数据分析常用的工具</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-Pandas%E7%BB%9F%E8%AE%A1%E5%88%86%E6%9E%90"><span class="toc-number">3.</span> <span class="toc-text">第二章 Pandas统计分析</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-Pandas%E6%A6%82%E8%BF%B0"><span class="toc-number">3.1.</span> <span class="toc-text">一. Pandas概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-seires-%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.</span> <span class="toc-text">二. seires 对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%9B%BE%E8%A7%A3Series%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.1.</span> <span class="toc-text">2.1　图解Series对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAseries%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.2.</span> <span class="toc-text">2.2 创建一个series对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AEseries%E7%B4%A2%E5%BC%95"><span class="toc-number">3.2.3.</span> <span class="toc-text">2.3 手动设置series索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-series-%E4%BD%8D%E7%BD%AE%E7%B4%A2%E5%BC%95"><span class="toc-number">3.2.4.</span> <span class="toc-text">2.4 series 位置索引</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-1-series%E4%BD%8D%E7%BD%AE%E7%B4%A2%E5%BC%95"><span class="toc-number">3.2.4.1.</span> <span class="toc-text">2.4.1 series位置索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-2-series-%E6%A0%87%E7%AD%BE%E7%B4%A2%E5%BC%95"><span class="toc-number">3.2.4.2.</span> <span class="toc-text">2.4.2 series 标签索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-3-series-%E5%88%87%E7%89%87%E7%B4%A2%E5%BC%95"><span class="toc-number">3.2.4.3.</span> <span class="toc-text">2.4.3 series 切片索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-4-5-%E8%8E%B7%E5%8F%96series%E7%B4%A2%E5%BC%95%E5%92%8C%E5%80%BC"><span class="toc-number">3.2.4.4.</span> <span class="toc-text">2.4.5 获取series索引和值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-DataFrame%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.3.</span> <span class="toc-text">三. DataFrame对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E5%9B%BE%E8%A7%A3DataFrame%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.3.1.</span> <span class="toc-text">3.1　图解DataFrame对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AADataFrame%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.3.2.</span> <span class="toc-text">3.2 创建一个DataFrame对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-DataFrame%E9%87%8D%E8%A6%81%E5%B1%9E%E6%80%A7%E5%92%8C%E5%87%BD%E6%95%B0"><span class="toc-number">3.3.3.</span> <span class="toc-text">3.3 DataFrame重要属性和函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-%E5%AF%BC%E5%85%A5%E5%A4%96%E9%83%A8%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.4.</span> <span class="toc-text">3.4 导入外部数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-1-%E5%AF%BC%E5%85%A5-xls%E6%88%96-xlsx%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.4.1.</span> <span class="toc-text">3.4.1　导入.xls或.xlsx文件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%8E%E5%B8%B8%E8%A7%84%E5%AF%BC%E5%85%A5%E5%AF%BC%E5%85%A5Excel%E6%96%87%E4%BB%B6%E3%80%82"><span class="toc-number">3.3.4.1.1.</span> <span class="toc-text">1．常规导入导入Excel文件。</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%8E%E5%AF%BC%E5%85%A5%E6%8C%87%E5%AE%9A%E7%9A%84Sheet%E9%A1%B5"><span class="toc-number">3.3.4.1.2.</span> <span class="toc-text">2．导入指定的Sheet页</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%8E%E9%80%9A%E8%BF%87%E8%A1%8C%E3%80%81%E5%88%97%E7%B4%A2%E5%BC%95%E5%AF%BC%E5%85%A5%E6%8C%87%E5%AE%9A%E8%A1%8C%E3%80%81%E5%88%97%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.4.1.3.</span> <span class="toc-text">3．通过行、列索引导入指定行、列数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%AF%BC%E5%85%A5%E6%8C%87%E5%AE%9A%E5%88%97%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.4.1.4.</span> <span class="toc-text">4.导入指定列数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-2-%E5%AF%BC%E5%85%A5-csv%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.4.2.</span> <span class="toc-text">3.4.2　导入.csv文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-3-%E5%AF%BC%E5%85%A5-txt%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="toc-number">3.3.4.3.</span> <span class="toc-text">3.4.3　导入.txt文本文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4-4-%E5%AF%BC%E5%85%A5HTML%E7%BD%91%E9%A1%B5"><span class="toc-number">3.3.4.4.</span> <span class="toc-text">3.4.4　导入HTML网页</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E6%95%B0%E6%8D%AE%E6%8A%BD%E5%8F%96"><span class="toc-number">3.3.5.</span> <span class="toc-text">3.5　数据抽取</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-1-%E6%8A%BD%E5%8F%96%E4%B8%80%E8%A1%8C%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.5.1.</span> <span class="toc-text">3.5.1　抽取一行数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-2-%E6%8A%BD%E5%8F%96%E5%A4%9A%E8%A1%8C%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.5.2.</span> <span class="toc-text">3.5.2　抽取多行数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-3-%E6%8A%BD%E5%8F%96%E6%8C%87%E5%AE%9A%E5%88%97%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.5.3.</span> <span class="toc-text">3.5.3　抽取指定列数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-4-%E6%8A%BD%E5%8F%96%E6%8C%87%E5%AE%9A%E8%A1%8C%E3%80%81%E5%88%97%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.5.4.</span> <span class="toc-text">3.5.4　抽取指定行、列数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-5-5-%E6%8C%89%E6%8C%87%E5%AE%9A%E6%9D%A1%E4%BB%B6%E6%8A%BD%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.5.5.</span> <span class="toc-text">3.5.5　按指定条件抽取数据</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-%E6%95%B0%E6%8D%AE%E7%9A%84%E5%A2%9E%E5%8A%A0%E3%80%81%E4%BF%AE%E6%94%B9%E5%92%8C%E5%88%A0%E9%99%A4"><span class="toc-number">3.3.6.</span> <span class="toc-text">3.6　数据的增加、修改和删除</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-1-%E5%A2%9E%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.6.1.</span> <span class="toc-text">3.6.1　增加数据</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%8E%E6%8C%89%E5%88%97%E5%A2%9E%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.6.1.1.</span> <span class="toc-text">1．按列增加数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%8E%E6%8C%89%E8%A1%8C%E5%A2%9E%E5%8A%A0%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.6.1.2.</span> <span class="toc-text">2．按行增加数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-2-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.6.2.</span> <span class="toc-text">3.6.2　修改数据</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%8E%E4%BF%AE%E6%94%B9%E5%88%97%E6%A0%87%E9%A2%98"><span class="toc-number">3.3.6.2.1.</span> <span class="toc-text">1．修改列标题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%8E%E4%BF%AE%E6%94%B9%E8%A1%8C%E6%A0%87%E9%A2%98"><span class="toc-number">3.3.6.2.2.</span> <span class="toc-text">2．修改行标题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%8E%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.6.2.3.</span> <span class="toc-text">3．修改数据</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-6-3-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.6.3.</span> <span class="toc-text">3.6.3　删除数据</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%8E%E5%88%A0%E9%99%A4%E8%A1%8C%E3%80%81%E5%88%97%E6%95%B0%E6%8D%AE"><span class="toc-number">3.3.6.3.1.</span> <span class="toc-text">1．删除行、列数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%8E%E5%88%A0%E9%99%A4%E7%89%B9%E5%AE%9A%E6%9D%A1%E4%BB%B6%E7%9A%84%E8%A1%8C"><span class="toc-number">3.3.6.3.2.</span> <span class="toc-text">2．删除特定条件的行</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97"><span class="toc-number">3.3.7.</span> <span class="toc-text">3.7　数据清洗</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-7-1-%E7%BC%BA%E5%A4%B1%E5%80%BC%E6%9F%A5%E7%9C%8B%E4%B8%8E%E5%A4%84%E7%90%86"><span class="toc-number">3.3.7.1.</span> <span class="toc-text">3.7.1　缺失值查看与处理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%8E%E7%BC%BA%E5%A4%B1%E5%80%BC%E6%9F%A5%E7%9C%8B"><span class="toc-number">3.3.7.1.1.</span> <span class="toc-text">1．缺失值查看</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%8E%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%88%A0%E9%99%A4%E5%A4%84%E7%90%86"><span class="toc-number">3.3.7.1.2.</span> <span class="toc-text">2．缺失值删除处理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%8E%E7%BC%BA%E5%A4%B1%E5%80%BC%E5%A1%AB%E5%85%85%E5%A4%84%E7%90%86"><span class="toc-number">3.3.7.1.3.</span> <span class="toc-text">3．缺失值填充处理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-7-2-%E9%87%8D%E5%A4%8D%E5%80%BC%E5%A4%84%E7%90%86"><span class="toc-number">3.3.7.2.</span> <span class="toc-text">3.7.2　重复值处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-7-3-%E5%BC%82%E5%B8%B8%E5%80%BC%E7%9A%84%E6%A3%80%E6%B5%8B%E4%B8%8E%E5%A4%84%E7%90%86"><span class="toc-number">3.3.7.3.</span> <span class="toc-text">3.7.3　异常值的检测与处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8-%E7%B4%A2%E5%BC%95%E8%AE%BE%E7%BD%AE"><span class="toc-number">3.3.8.</span> <span class="toc-text">3.8 索引设置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-1-%E7%B4%A2%E5%BC%95%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">3.3.8.1.</span> <span class="toc-text">3.8.1　索引的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-2-%E9%87%8D%E6%96%B0%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95"><span class="toc-number">3.3.8.2.</span> <span class="toc-text">3.8.2　重新设置索引</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%8E%E5%AF%B9Series%E5%AF%B9%E8%B1%A1%E9%87%8D%E6%96%B0%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95"><span class="toc-number">3.3.8.2.1.</span> <span class="toc-text">1．对Series对象重新设置索引</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%8E%E5%AF%B9DataFrame%E5%AF%B9%E8%B1%A1%E9%87%8D%E6%96%B0%E8%AE%BE%E7%BD%AE%E7%B4%A2%E5%BC%95"><span class="toc-number">3.3.8.2.2.</span> <span class="toc-text">2．对DataFrame对象重新设置索引</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-3-%E8%AE%BE%E7%BD%AE%E6%9F%90%E5%88%97%E4%B8%BA%E8%A1%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">3.3.8.3.</span> <span class="toc-text">3.8.3　设置某列为行索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-8-4-%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97%E5%90%8E%E9%87%8D%E6%96%B0%E8%AE%BE%E7%BD%AE%E8%BF%9E%E7%BB%AD%E7%9A%84%E8%A1%8C%E7%B4%A2%E5%BC%95"><span class="toc-number">3.3.8.4.</span> <span class="toc-text">3.8.4　数据清洗后重新设置连续的行索引</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-%E6%95%B0%E6%8D%AE%E6%8E%92%E5%BA%8F%E4%B8%8E%E6%8E%92%E5%90%8D"><span class="toc-number">3.3.9.</span> <span class="toc-text">3.9　数据排序与排名</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-9-1-%E6%95%B0%E6%8D%AE%E6%8E%92%E5%BA%8F"><span class="toc-number">3.3.9.1.</span> <span class="toc-text">3.9.1　数据排序</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%EF%BC%8E%E6%8C%89%E4%B8%80%E5%88%97%E6%95%B0%E6%8D%AE%E6%8E%92%E5%BA%8F"><span class="toc-number">3.3.9.1.1.</span> <span class="toc-text">1．按一列数据排序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%8E%E6%8C%89%E5%A4%9A%E5%88%97%E6%95%B0%E6%8D%AE%E6%8E%92%E5%BA%8F"><span class="toc-number">3.3.9.1.2.</span> <span class="toc-text">2．按多列数据排序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%8E%E5%AF%B9%E7%BB%9F%E8%AE%A1%E7%BB%93%E6%9E%9C%E6%8E%92%E5%BA%8F"><span class="toc-number">3.3.9.1.3.</span> <span class="toc-text">3．对统计结果排序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%8E%E6%8C%89%E8%A1%8C%E6%95%B0%E6%8D%AE%E6%8E%92%E5%BA%8F"><span class="toc-number">3.3.9.1.4.</span> <span class="toc-text">4．按行数据排序</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-9-2-%E6%95%B0%E6%8D%AE%E6%8E%92%E5%90%8D"><span class="toc-number">3.3.9.2.</span> <span class="toc-text">3.9.2　数据排名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10-%E5%B0%8F%E7%BB%93"><span class="toc-number">3.3.10.</span> <span class="toc-text">3.10　小结</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/07/01/Css%E9%9A%90%E8%97%8F%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0/" title="Css隐藏页面元素"><img src="/./img/back.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Css隐藏页面元素"/></a><div class="content"><a class="title" href="/2022/07/01/Css%E9%9A%90%E8%97%8F%E9%A1%B5%E9%9D%A2%E5%85%83%E7%B4%A0/" title="Css隐藏页面元素">Css隐藏页面元素</a><time datetime="2022-07-01T08:27:09.000Z" title="Created 2022-07-01 16:27:09">2022-07-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/28/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1/" title="响应式设计"><img src="/./img/back.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="响应式设计"/></a><div class="content"><a class="title" href="/2022/06/28/%E5%93%8D%E5%BA%94%E5%BC%8F%E8%AE%BE%E8%AE%A1/" title="响应式设计">响应式设计</a><time datetime="2022-06-28T07:33:25.000Z" title="Created 2022-06-28 15:33:25">2022-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/18/Css%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/" title="Css优化方案"><img src="/./img/girl.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Css优化方案"/></a><div class="content"><a class="title" href="/2022/06/18/Css%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/" title="Css优化方案">Css优化方案</a><time datetime="2022-06-17T23:35:05.000Z" title="Created 2022-06-18 07:35:05">2022-06-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/06/Css3%E6%96%B0%E5%A2%9E%E7%9A%84%E7%89%B9%E6%80%A7/" title="Css3新增的特性"><img src="/./img/people.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Css3新增的特性"/></a><div class="content"><a class="title" href="/2022/06/06/Css3%E6%96%B0%E5%A2%9E%E7%9A%84%E7%89%B9%E6%80%A7/" title="Css3新增的特性">Css3新增的特性</a><time datetime="2022-06-06T07:24:49.000Z" title="Created 2022-06-06 15:24:49">2022-06-06</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/05/31/bind%E3%80%81call%E3%80%81apply/" title="bind、call、apply"><img src="/./img/people.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="bind、call、apply"/></a><div class="content"><a class="title" href="/2022/05/31/bind%E3%80%81call%E3%80%81apply/" title="bind、call、apply">bind、call、apply</a><time datetime="2022-05-31T00:46:10.000Z" title="Created 2022-05-31 08:46:10">2022-05-31</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 宇宙建筑家</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"right","hOffset":50,"width":150,"height":300},"mobile":{"show":true},"react":{"opacity":0.7}});</script></body></html>